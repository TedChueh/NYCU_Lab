	ORG 00H
	AJMP INIT
	ORG 50H

INIT:
	MOV TMOD, #01H 
	MOV R0, #010H
	MOV R1, #040H

LOOP:
	ACALL MAIN
	JMP LOOP

MAIN:

RESETROW:
	CJNE R0, #01H, CONTROW
	MOV R0, #010H
	JMP RESETCOL

CONTROW:
	MOV A, R0
	RR A
	MOV R0, A
	JMP EXECUTE

RESETCOL:
	CJNE R1, #01H, CONTCOL
	MOV R1, #040H
	JMP EXECUTE

CONTCOL:
	MOV A, R1
	RR A
	MOV R1, A

EXECUTE:
	MOV P0, R0
	MOV P1, R1
	MOV  R6, #01H
	MOV  R7, #0FAH
	ACALL DELAY
	RET

DELAY:
	MOV TH0, #0FCH
	MOV TL0, #018H
	SETB TR0	

WAIT:
	JNB TF0, $
	CLR TR0
	CLR TF0
	DJNZ R6, DELAY
	MOV R6, #01H
	DJNZ R7, DELAY
	RET
	END